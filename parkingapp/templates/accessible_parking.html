{% extends 'base.html' %}
{% load static %}

{% block title %}Accessible Parking{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">‚ôø Accessible Parking Spots</h2>
    
    <!-- Info Alert -->
    <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">‚ÑπÔ∏è Accessibility Support</h4>
        <p>Reserved parking spots for users with disabilities. These spots are close to facility entrances and have extra width for wheelchair access.</p>
    </div>
    
    <!-- Accessible Lots -->
    {% if accessible_lots %}
    <div class="row">
        {% for item in accessible_lots %}
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">‚ôø {{ item.lot.lot_name }}</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="text-center">
                                <p class="mb-1 text-muted">Available Spots</p>
                                <h3 class="text-success">{{ item.available_accessible }}</h3>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="text-center">
                                <p class="mb-1 text-muted">Total Spots</p>
                                <h3>{{ item.total_accessible }}</h3>
                            </div>
                        </div>
                    </div>
                    
                    <div class="progress mb-3" style="height: 25px;">
                        <div class="progress-bar bg-success" role="progressbar" 
                             style="width: {% widthratio item.available_accessible item.total_accessible 100 %}%"
                             aria-valuenow="{% widthratio item.available_accessible item.total_accessible 100 %}" 
                             aria-valuemin="0" aria-valuemax="100">
                            {% widthratio item.available_accessible item.total_accessible 100 %}% Free
                        </div>
                    </div>
                    
                    {% if item.available_accessible > 0 %}
                    <a href="{% url 'reserve_parking' %}" class="btn btn-primary btn-block">
                        üé´ Reserve Accessible Spot
                    </a>
                    {% else %}
                    <button class="btn btn-secondary btn-block" disabled>
                        üö´ No Available Spots
                    </button>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-warning">
        No parking lots with accessible spots currently available.
    </div>
    {% endif %}
    
    <!-- Features & Benefits -->
    <div class="card mt-4">
        <div class="card-header bg-info text-white">
            <h5 class="mb-0">‚ú® Accessibility Features</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <h3>üìç</h3>
                        <p><strong>Prime Location</strong></p>
                        <small>Close to facility entrances</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <h3>üìè</h3>
                        <p><strong>Extra Width</strong></p>
                        <small>9 feet wide for wheelchair access</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <h3>‚ôø</h3>
                        <p><strong>ADA Compliant</strong></p>
                        <small>Meets all accessibility standards</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Requirements -->
    <div class="card mt-4 bg-light">
        <div class="card-body">
            <h5 class="card-title">üìã Eligibility Requirements</h5>
            <ul>
                <li>Valid disability permit or license plate</li>
                <li>Permit must be displayed on vehicle</li>
                <li>Can be transferred to any vehicle</li>
                <li>Valid for multi-space parking lots only</li>
            </ul>
        </div>
    </div>
</div>

<style>
    .card {
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        border: none;
        border-radius: 8px;
    }
</style>
{% endblock %}
